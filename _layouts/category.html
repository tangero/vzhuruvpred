---
layout: default
---

<div class="category-page">
    <header class="category-header">
        <h1 class="category-title">{{ page.title }}</h1>
        {% if page.description %}
        <p class="category-description">{{ page.description }}</p>
        {% endif %}
    </header>

    <div class="content-layout">
        <div class="main-column">
            <div class="articles-grid">
                {% assign category_posts = site.posts | where: "categories", page.category %}
                {% for post in category_posts %}
                <article class="article-card">
                    <a href="{{ post.url | relative_url }}" class="article-image-link">
                        <div class="article-image">
                            {% if post.image %}
                                <img src="{{ post.image }}" alt="{{ post.title }}">
                            {% else %}
                                <img src="https://picsum.photos/400/250?random={{ forloop.index }}" alt="{{ post.title }}">
                            {% endif %}
                            <span class="reading-time">{{ post.read_time | default: '5 min' }}</span>
                        </div>
                    </a>
                    <div class="article-content">
                        <h3 class="article-title">
                            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                        </h3>
                        <p class="article-excerpt">
                            {{ post.excerpt | strip_html | truncate: 150 }}
                        </p>
                        <div class="article-meta">
                            <span class="author">{{ post.author | default: 'Redakce' }}</span>
                            <span class="date">{{ post.date | date: "%d.%m.%Y" }}</span>
                            {% if post.tags %}
                            <div class="tags">
                                {% for tag in post.tags limit: 2 %}
                                <span class="tag">#{{ tag }}</span>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>

            {% if category_posts.size == 0 %}
            <div class="no-posts">
                <p>V této kategorii zatím nejsou žádné články.</p>
            </div>
            {% endif %}
        </div>

        <aside class="sidebar">
            <!-- Nejčtenější v kategorii -->
            <div class="sidebar-section">
                <h3 class="sidebar-title">Nejčtenější v {{ page.title | downcase }}</h3>
                <ol class="trending-list">
                    {% assign popular_posts = site.posts | where: "categories", page.category | limit: 5 %}
                    {% for post in popular_posts %}
                    <li class="trending-item">
                        <span class="trending-number">{{ forloop.index }}</span>
                        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                    </li>
                    {% endfor %}
                </ol>
            </div>

            <!-- Související kategorie -->
            <div class="sidebar-section">
                <h3 class="sidebar-title">Další rubriky</h3>
                <ul class="footer-links">
                    {% for nav_item in site.navigation %}
                        {% unless nav_item.name == "Domů" or nav_item.name == page.title %}
                        <li><a href="{{ nav_item.link | relative_url }}">{{ nav_item.name }}</a></li>
                        {% endunless %}
                    {% endfor %}
                </ul>
            </div>
        </aside>
    </div>
</div>