---
layout: default
---

<!-- Hero sekce s gradientn√≠m textem -->
<section class="hero-section">
    <div class="hero-grid">
        {% assign top_articles = site.posts | where: "topclanek", true %}
        {% if top_articles.size > 0 %}
            {% assign featured_post = top_articles.first %}
        {% else %}
            {% assign featured_post = site.posts.first %}
        {% endif %}
        {% if featured_post %}
        <article class="hero-main">
            <a href="{{ featured_post.url | relative_url }}" class="article-image-link">
                <div class="article-image">
                    <img src="{{ featured_post.image | relative_url | default: 'https://picsum.photos/800/450?random=1' }}" alt="{{ featured_post.title }}">
                    <span class="category-badge">{{ featured_post.category | default: featured_post.categories[0] | capitalize }}</span>
                    <div class="article-overlay">
                        <h2 class="article-title-overlay">{{ featured_post.title }}</h2>
                        <p class="article-excerpt-overlay">{{ featured_post.excerpt | strip_html | truncate: 150 }}</p>
                        <div class="article-meta-overlay">
                            <span class="author">‚ö° {{ featured_post.author | default: 'Redakce' }}</span>
                            <span class="date">{{ featured_post.date | date: "%d.%m.%Y" }}</span>
                        </div>
                    </div>
                </div>
            </a>
        </article>
        {% endif %}

        <div class="hero-sidebar">
            {% assign non_top_posts = site.posts | where_exp: "post", "post.topclanek != true" %}
            {% assign sidebar_posts = non_top_posts | slice: 0, 2 %}
            {% for post in sidebar_posts %}
            <article class="sidebar-article">
                <a href="{{ post.url | relative_url }}" class="article-image-link">
                    <div class="article-image">
                        {% if post.image %}
                            <img src="{{ post.image | relative_url }}" alt="{{ post.title }}">
                        {% else %}
                            <img src="https://picsum.photos/400/225?random={{ forloop.index }}1" alt="{{ post.title }}">
                        {% endif %}
                        <span class="category-badge">{{ post.category | default: post.categories[0] | capitalize }}</span>
                        <div class="sidebar-article-overlay">
                            <h3 class="sidebar-article-title-overlay">{{ post.title }}</h3>
                        </div>
                    </div>
                </a>
                <div class="sidebar-article-content">
                    <p class="sidebar-article-excerpt">{{ post.excerpt | strip_html | truncate: 100 }}</p>
                    <span class="date">{{ post.date | date: "%d.%m.%Y" }}</span>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Co pr√°vƒõ h√Ωbe internetem v ƒåesku -->
<section class="quick-news" id="trending-section">
    <h2 class="section-title">Co pr√°vƒõ h√Ωbe internetem v ƒåesku</h2>
    <div class="quick-news-grid trends-with-images" id="trends-container">
        {% if site.data.trends %}
            {% for trend in site.data.trends.trends limit:8 %}
            <a href="{{ trend.news_url }}" target="_blank" class="trend-item-with-image">
                <div class="trend-image">
                    <img src="{{ trend.picture }}" alt="{{ trend.query }}">
                    <span class="trend-badge">{{ trend.query }}</span>
                </div>
                <div class="trend-content">
                    <h3 class="trend-news-title">{{ trend.news_title }}</h3>
                </div>
            </a>
            {% endfor %}
        {% else %}
            <!-- Fallback data -->
            <article class="quick-news-item">
                <span class="time">Aktu√°lnƒõ</span>
                <p>üìä Volby 2025</p>
            </article>
            <article class="quick-news-item">
                <span class="time">Trending</span>
                <p>üå°Ô∏è Poƒças√≠ Praha</p>
            </article>
            <article class="quick-news-item">
                <span class="time">Popul√°rn√≠</span>
                <p>üì∫ ƒåesk√° televize</p>
            </article>
            <article class="quick-news-item">
                <span class="time">Vyhled√°v√°no</span>
                <p>üèí Hokej MS</p>
            </article>
        {% endif %}
    </div>
</section>

<!-- Sekce Video Player -->
<section class="video-player-section">
    <div class="section-header">
        <h2 class="section-title">üìπ Video p≈ôehr√°vaƒç</h2>
    </div>
    
    {% assign videos = site.media | where: "type", "video" | sort: "date" | reverse | limit: 5 %}
    
    {% if videos.size > 0 %}
    <div class="video-player-container">
        <!-- Hlavn√≠ video player -->
        <div class="main-video-player">
            <video id="main-video" controls preload="metadata" poster="">
                <source src="{{ '/audiolm/' | append: videos.first.file | relative_url }}" type="video/mp4">
                V√°≈° prohl√≠≈æeƒç nepodporuje video tag.
            </video>
            
            <!-- Video controls -->
            <div class="video-controls">
                <div class="video-info">
                    <h3 id="current-video-title">{{ videos.first.title }}</h3>
                    <p id="current-video-description">{{ videos.first.content | strip_html | truncate: 100 }}</p>
                </div>
                
                <div class="video-actions">
                    <button id="prev-video" class="video-btn" title="P≈ôedchoz√≠ video">‚èÆÔ∏è</button>
                    <button id="fullscreen-btn" class="video-btn" title="Cel√° obrazovka">‚õ∂</button>
                    <button id="next-video" class="video-btn" title="Dal≈°√≠ video">‚è≠Ô∏è</button>
                </div>
            </div>
        </div>
        
        <!-- Seznam vide√≠ -->
        <div class="video-playlist">
            <h4>Seznam vide√≠</h4>
            <div class="playlist-items">
                {% for video in videos %}
                <div class="playlist-item" data-video-src="{{ '/audiolm/' | append: video.file | relative_url }}" data-video-title="{{ video.title }}" data-video-description="{{ video.content | strip_html | truncate: 100 }}">
                    <div class="playlist-thumbnail">
                        <div class="play-icon">‚ñ∂Ô∏è</div>
                        <span class="video-duration">{{ video.duration }}</span>
                    </div>
                    <div class="playlist-info">
                        <h5>{{ video.title }}</h5>
                        <p>{{ video.content | strip_html | truncate: 80 }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    
    <!-- Audio sekce (zachov√°no) -->
    {% assign audio_files = site.media | where: "type", "audio" %}
    {% if audio_files.size > 0 %}
    <div class="audio-section">
        <h3>üéµ Audio nahr√°vky</h3>
        <div class="audio-grid">
            {% for audio in audio_files %}
            <div class="audio-item">
                <div class="audio-player">
                    <div class="audio-info">
                        <h4>{{ audio.title }}</h4>
                        <span class="audio-duration">{{ audio.duration }}</span>
                    </div>
                    <audio controls preload="metadata">
                        <source src="{{ '/audiolm/' | append: audio.file | relative_url }}" type="audio/mp4">
                        V√°≈° prohl√≠≈æeƒç nepodporuje audio tag.
                    </audio>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    
    {% else %}
        <p style="color: var(--pirate-yellow); text-align: center;">≈Ω√°dn√° videa k dispozici</p>
    {% endif %}
</section>

<script>
// Video player functionality
document.addEventListener('DOMContentLoaded', function() {
    const mainVideo = document.getElementById('main-video');
    const currentTitle = document.getElementById('current-video-title');
    const currentDescription = document.getElementById('current-video-description');
    const playlistItems = document.querySelectorAll('.playlist-item');
    const prevBtn = document.getElementById('prev-video');
    const nextBtn = document.getElementById('next-video');
    const fullscreenBtn = document.getElementById('fullscreen-btn');
    
    let currentVideoIndex = 0;
    const videos = Array.from(playlistItems);
    
    // Aktivn√≠ video v playlistu
    function setActiveVideo(index) {
        videos.forEach((item, i) => {
            item.classList.toggle('active', i === index);
        });
    }
    
    // Naƒçten√≠ videa
    function loadVideo(index) {
        if (index >= 0 && index < videos.length) {
            const videoData = videos[index];
            const videoSrc = videoData.dataset.videoSrc;
            const videoTitle = videoData.dataset.videoTitle;
            const videoDescription = videoData.dataset.videoDescription;
            
            mainVideo.src = videoSrc;
            currentTitle.textContent = videoTitle;
            currentDescription.textContent = videoDescription;
            currentVideoIndex = index;
            setActiveVideo(index);
            
            // Naƒçten√≠ metadat
            mainVideo.load();
        }
    }
    
    // Klik na video v playlistu
    playlistItems.forEach((item, index) => {
        item.addEventListener('click', function() {
            loadVideo(index);
            mainVideo.play();
        });
    });
    
    // P≈ôedchoz√≠ video
    prevBtn.addEventListener('click', function() {
        const newIndex = currentVideoIndex > 0 ? currentVideoIndex - 1 : videos.length - 1;
        loadVideo(newIndex);
    });
    
    // Dal≈°√≠ video
    nextBtn.addEventListener('click', function() {
        const newIndex = currentVideoIndex < videos.length - 1 ? currentVideoIndex + 1 : 0;
        loadVideo(newIndex);
    });
    
    // Cel√° obrazovka
    fullscreenBtn.addEventListener('click', function() {
        if (mainVideo.requestFullscreen) {
            mainVideo.requestFullscreen();
        } else if (mainVideo.webkitRequestFullscreen) {
            mainVideo.webkitRequestFullscreen();
        } else if (mainVideo.mozRequestFullScreen) {
            mainVideo.mozRequestFullScreen();
        } else if (mainVideo.msRequestFullscreen) {
            mainVideo.msRequestFullscreen();
        }
    });
    
    // Auto-play dal≈°√≠ho videa po skonƒçen√≠
    mainVideo.addEventListener('ended', function() {
        const nextIndex = currentVideoIndex < videos.length - 1 ? currentVideoIndex + 1 : 0;
        loadVideo(nextIndex);
        mainVideo.play();
    });
    
    // Nastavit prvn√≠ video jako aktivn√≠
    if (videos.length > 0) {
        setActiveVideo(0);
    }
});
</script>

<!-- Hlavn√≠ obsahov√° oblast s postrann√≠m panelem -->
<div class="content-layout">
    <div class="main-column">
        <!-- Sekce Ud√°losti -->
        <section class="news-section">
            <div class="section-header">
                <h2 class="section-title">Ud√°losti</h2>
                <a href="{{ '/udalosti/' | relative_url }}" class="section-link">Zobrazit v≈°e ‚Üí</a>
            </div>
            
            <div class="articles-grid">
                {% assign udalosti_posts = site.posts | where: "categories", "udalosti" | limit: 3 %}
                {% for post in udalosti_posts %}
                <article class="article-card">
                    <a href="{{ post.url | relative_url }}" class="article-image-link">
                        <div class="article-image">
                            <img src="{{ post.image | default: 'https://picsum.photos/400/250?random=4' }}" alt="{{ post.title }}">
                            <span class="reading-time">{{ post.read_time | default: '4 min' }}</span>
                        </div>
                    </a>
                    <div class="article-content">
                        <h3 class="article-title">
                            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                        </h3>
                        <p class="article-excerpt">
                            {{ post.excerpt | strip_html | truncate: 120 }}
                        </p>
                        <div class="article-meta">
                            <span class="date">{{ post.date | date: "%d.%m.%Y" }}</span>
                            <span class="category">{{ post.category | default: 'Ud√°losti' }}</span>
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>
        </section>

        <!-- Sekce N√°zory -->
        <section class="opinion-section">
            <div class="section-header">
                <h2 class="section-title">N√°zory expert≈Ø</h2>
                <a href="{{ '/nazory/' | relative_url }}" class="section-link">V≈°echny n√°zory ‚Üí</a>
            </div>
            
            <div class="opinion-grid">
                {% assign nazory_posts = site.posts | where: "categories", "nazory" | limit: 3 %}
                {% for post in nazory_posts %}
                <article class="opinion-card">
                    <div class="author-info">
                        <img src="{{ post.author_image | default: 'https://picsum.photos/60/60?random=10' }}" alt="{{ post.author }}" class="author-avatar">
                        <div>
                            <h4 class="author-name">{{ post.author | default: 'Autor' }}</h4>
                            <span class="author-title">{{ post.author_title | default: 'Expert' }}</span>
                        </div>
                    </div>
                    <h3 class="opinion-title">
                        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                    </h3>
                </article>
                {% endfor %}
            </div>
        </section>
    </div>

    <!-- Postrann√≠ panel -->
    <aside class="sidebar">
        <!-- Nejƒçtenƒõj≈°√≠ -->
        <div class="sidebar-section">
            <h3 class="sidebar-title">Nejƒçtenƒõj≈°√≠</h3>
            <ol class="trending-list">
                {% assign top_articles = site.posts | where: "topclanek", true | limit: 1 %}
                {% assign other_posts = site.posts | where_exp: "post", "post.topclanek != true" | limit: 4 %}
                {% assign popular_posts = top_articles | concat: other_posts %}
                {% for post in popular_posts %}
                <li class="trending-item">
                    <span class="trending-number">{{ forloop.index }}</span>
                    <a href="{{ post.url | relative_url }}">{{ post.title | truncate: 60 }}</a>
                </li>
                {% else %}
                <li class="trending-item">
                    <span class="trending-number">1</span>
                    <a href="#">P≈ôidejte prvn√≠ ƒçl√°nek</a>
                </li>
                {% endfor %}
            </ol>
        </div>

        <!-- Newsletter -->
        <div class="sidebar-section newsletter-box">
            <h3 class="sidebar-title">Newsletter Vzh≈Øru a vp≈ôed</h3>
            <p class="newsletter-text">Dost√°vejte nejd≈Øle≈æitƒõj≈°√≠ zpr√°vy o digitalizaci a transparentnosti p≈ô√≠mo do emailu</p>
            <form class="newsletter-form">
                <input type="email" placeholder="ahoj@example.com" class="newsletter-input">
                <button type="submit" class="newsletter-btn">Odeb√≠rat zdarma</button>
            </form>
        </div>

        <!-- Poƒças√≠ widget -->
        <div class="sidebar-section weather-widget">
            <h3 class="sidebar-title">Poƒças√≠ & Tech index</h3>
            <div class="weather-content">
                <div class="weather-today">
                    <div class="weather-icon-large">‚òÄÔ∏è</div>
                    <div class="weather-info">
                        <span class="temperature">24¬∞C</span>
                        <span class="weather-desc">Ide√°ln√≠ poƒças√≠ pro coding</span>
                    </div>
                </div>
            </div>
        </div>
    </aside>
</div>

<!-- Technologie sekce -->
<section class="sport-section">
    <div class="section-header">
        <h2 class="section-title">Technologie</h2>
        <div class="sport-nav">
            <button class="sport-tab active">AI & ML</button>
            <button class="sport-tab">Blockchain</button>
            <button class="sport-tab">Cyber Security</button>
            <button class="sport-tab">Open Source</button>
        </div>
    </div>
    
    <div class="sport-grid">
        <article class="sport-card">
            <div class="sport-image">
                <img src="https://picsum.photos/400/250?random=15" alt="Tech">
                <span class="sport-badge">AI</span>
            </div>
            <div class="sport-content">
                <h3 class="sport-title">
                    <a href="#">ChatGPT vs. ƒçesk√Ω startup: Kdo vyhr√°l souboj chatbot≈Ø?</a>
                </h3>
                <div class="match-score">
                    <span class="team">ChatGPT 4</span>
                    <span class="score">87 : 94</span>
                    <span class="team">CzechBot Pro</span>
                </div>
            </div>
        </article>
    </div>
</section>