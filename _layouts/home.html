---
layout: default
---

<!-- Hero sekce s gradientn√≠m textem -->
<section class="hero-section">
    <div class="hero-grid">
        {% assign top_articles = site.posts | where: "topclanek", true %}
        {% if top_articles.size > 0 %}
            {% assign featured_post = top_articles.first %}
        {% else %}
            {% assign featured_post = site.posts.first %}
        {% endif %}
        {% if featured_post %}
        <article class="hero-main">
            <a href="{{ featured_post.url | relative_url }}" class="article-image-link">
                <div class="article-image">
                    <img src="{{ featured_post.image | relative_url | default: 'https://picsum.photos/800/450?random=1' }}" alt="{{ featured_post.title }}">
                    <span class="category-badge">{{ featured_post.category | default: featured_post.categories[0] | capitalize }}</span>
                    <div class="article-overlay">
                        <h2 class="article-title-overlay">{{ featured_post.title }}</h2>
                        <p class="article-excerpt-overlay">{{ featured_post.excerpt | strip_html | truncate: 150 }}</p>
                        <div class="article-meta-overlay">
                            <span class="author">‚ö° {{ featured_post.author | default: 'Redakce' }}</span>
                            <span class="date">{{ featured_post.date | date: "%d.%m.%Y" }}</span>
                        </div>
                    </div>
                </div>
            </a>
        </article>
        {% endif %}

        <div class="hero-sidebar">
            {% assign non_top_posts = site.posts | where_exp: "post", "post.topclanek != true" %}
            {% assign sidebar_posts = non_top_posts | slice: 0, 2 %}
            {% for post in sidebar_posts %}
            <article class="sidebar-article">
                <a href="{{ post.url | relative_url }}" class="article-image-link">
                    <div class="article-image">
                        {% if post.image %}
                            <img src="{{ post.image | relative_url }}" alt="{{ post.title }}">
                        {% else %}
                            <img src="https://picsum.photos/400/225?random={{ forloop.index }}1" alt="{{ post.title }}">
                        {% endif %}
                        <span class="category-badge">{{ post.category | default: post.categories[0] | capitalize }}</span>
                        <div class="sidebar-article-overlay">
                            <h3 class="sidebar-article-title-overlay">{{ post.title }}</h3>
                        </div>
                    </div>
                </a>
                <div class="sidebar-article-content">
                    <p class="sidebar-article-excerpt">{{ post.excerpt | strip_html | truncate: 100 }}</p>
                    <span class="date">{{ post.date | date: "%d.%m.%Y" }}</span>
                </div>
            </article>
            {% endfor %}
        </div>
    </div>
</section>


<!-- Co pr√°vƒõ h√Ωbe internetem v ƒåesku -->
<section class="quick-news" id="trending-section">
    <h2 class="section-title">Co pr√°vƒõ h√Ωbe internetem v ƒåesku</h2>
    <div class="quick-news-grid trends-with-images" id="trends-container">
        {% if site.data.trends %}
            {% for trend in site.data.trends.trends limit:8 %}
            <a href="{{ trend.news_url }}" target="_blank" class="trend-item-with-image">
                <div class="trend-image">
                    <img src="{{ trend.picture }}" alt="{{ trend.query }}">
                    <span class="trend-badge">{{ trend.query }}</span>
                </div>
                <div class="trend-content">
                    <h3 class="trend-news-title">{{ trend.news_title }}</h3>
                </div>
            </a>
            {% endfor %}
        {% else %}
            <!-- Fallback data -->
            <article class="quick-news-item">
                <span class="time">Aktu√°lnƒõ</span>
                <p>üìä Volby 2025</p>
            </article>
            <article class="quick-news-item">
                <span class="time">Trending</span>
                <p>üå°Ô∏è Poƒças√≠ Praha</p>
            </article>
            <article class="quick-news-item">
                <span class="time">Popul√°rn√≠</span>
                <p>üì∫ ƒåesk√° televize</p>
            </article>
            <article class="quick-news-item">
                <span class="time">Vyhled√°v√°no</span>
                <p>üèí Hokej MS</p>
            </article>
        {% endif %}
    </div>
</section>


<!-- Hlavn√≠ obsahov√° oblast s postrann√≠m panelem -->
<div class="content-layout">
    <div class="main-column">
        <!-- Sekce Nejnovƒõj≈°√≠ ƒçl√°nky -->
        <section class="recent-articles-section">
            <div class="section-header">
                <h2 class="section-title">Nejnovƒõj≈°√≠ ƒçl√°nky</h2>
            </div>
            
            <div class="articles-list">
                {% comment %}
                Zobrazujeme 10 nejnovƒõj≈°√≠ch ƒçl√°nk≈Ø kromƒõ prvn√≠ch 3 (kter√© jsou zobrazeny naho≈ôe)
                {% endcomment %}
                {% assign recent_posts = site.posts | offset: 3 | limit: 10 %}
                {% for post in recent_posts %}
                <article class="article-list-item">
                    <a href="{{ post.url | relative_url }}" class="article-link">
                        <div class="article-left-column">
                            <div class="article-image-small">
                                {% if post.image %}
                                    <img src="{{ post.image | relative_url }}" alt="{{ post.title }}">
                                {% else %}
                                    <img src="https://picsum.photos/120/80?random={{ forloop.index }}" alt="{{ post.title }}">
                                {% endif %}
                            </div>
                            <span class="category">{{ post.category | default: post.categories[0] | capitalize }}</span>
                        </div>
                        <div class="article-content-small">
                            <h3 class="article-title-small">{{ post.title }}</h3>
                            <p class="article-excerpt-small">
                                {{ post.excerpt | strip_html | truncate: 150 }}
                            </p>
                            <div class="article-meta-small">
                                <span class="date">{{ post.date | date: "%d.%m.%Y" }}</span>
                                <span class="read-time">{{ post.read_time | default: '5 min' }}</span>
                            </div>
                        </div>
                    </a>
                </article>
                {% endfor %}
            </div>
        </section>
    </div>

    <!-- Postrann√≠ panel -->
    <aside class="sidebar">
        <!-- Kompaktn√≠ video p≈ôehr√°vaƒç -->
        {% assign videos = site.media | where: "type", "video" | sort: "date" | reverse | limit: 5 %}
        {% if videos.size > 0 %}
        <div class="sidebar-section video-player-sidebar">
            <h3 class="sidebar-title">üìπ Video p≈ôehr√°vaƒç</h3>
            <div class="compact-video-player">
                <video id="sidebar-video" controls preload="metadata" poster="">
                    <source src="{{ '/audiolm/' | append: videos.first.file | relative_url }}" type="video/mp4">
                    V√°≈° prohl√≠≈æeƒç nepodporuje video tag.
                </video>
                
                <div class="video-info-compact">
                    <h4 id="sidebar-video-title">{{ videos.first.title }}</h4>
                    <p id="sidebar-video-description">{{ videos.first.content | strip_html | truncate: 80 }}</p>
                </div>
                
                <div class="video-controls-compact">
                    <button id="sidebar-prev-video" class="video-btn-compact" title="P≈ôedchoz√≠">‚èÆÔ∏è</button>
                    <button id="sidebar-fullscreen-btn" class="video-btn-compact" title="Cel√° obrazovka">‚õ∂</button>
                    <button id="sidebar-next-video" class="video-btn-compact" title="Dal≈°√≠">‚è≠Ô∏è</button>
                    <button id="sidebar-playlist-toggle" class="video-btn-compact" title="Seznam vide√≠">üìã</button>
                </div>
                
                <div id="sidebar-playlist" class="sidebar-playlist" style="display: none;">
                    {% for video in videos %}
                    <div class="sidebar-playlist-item" data-video-src="{{ '/audiolm/' | append: video.file | relative_url }}" data-video-title="{{ video.title }}" data-video-description="{{ video.content | strip_html | truncate: 80 }}">
                        <span class="playlist-play-icon">‚ñ∂Ô∏è</span>
                        <span class="playlist-title">{{ video.title | truncate: 35 }}</span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}
        
        <!-- Nejƒçtenƒõj≈°√≠ -->
        <div class="sidebar-section">
            <h3 class="sidebar-title">Nejƒçtenƒõj≈°√≠</h3>
            <ol class="trending-list">
                {% assign top_articles = site.posts | where: "topclanek", true | limit: 1 %}
                {% assign other_posts = site.posts | where_exp: "post", "post.topclanek != true" | limit: 4 %}
                {% assign popular_posts = top_articles | concat: other_posts %}
                {% for post in popular_posts %}
                <li class="trending-item">
                    <span class="trending-number">{{ forloop.index }}</span>
                    <a href="{{ post.url | relative_url }}">{{ post.title | truncate: 60 }}</a>
                </li>
                {% else %}
                <li class="trending-item">
                    <span class="trending-number">1</span>
                    <a href="#">P≈ôidejte prvn√≠ ƒçl√°nek</a>
                </li>
                {% endfor %}
            </ol>
        </div>

        <!-- Newsletter -->
        <div class="sidebar-section newsletter-box">
            <h3 class="sidebar-title">Newsletter Vzh≈Øru a vp≈ôed</h3>
            <p class="newsletter-text">Dost√°vejte nejd≈Øle≈æitƒõj≈°√≠ zpr√°vy o digitalizaci a transparentnosti p≈ô√≠mo do emailu</p>
            <form class="newsletter-form">
                <input type="email" placeholder="ahoj@example.com" class="newsletter-input">
                <button type="submit" class="newsletter-btn">Odeb√≠rat zdarma</button>
            </form>
        </div>

        <!-- Poƒças√≠ widget -->
        <div class="sidebar-section weather-widget">
            <h3 class="sidebar-title">Poƒças√≠ & Tech index</h3>
            <div class="weather-content">
                <div class="weather-today">
                    <div class="weather-icon-large">‚òÄÔ∏è</div>
                    <div class="weather-info">
                        <span class="temperature">24¬∞C</span>
                        <span class="weather-desc">Ide√°ln√≠ poƒças√≠ pro coding</span>
                    </div>
                </div>
            </div>
        </div>
    </aside>
</div>

<!-- P≈ôedn√°≈°ky sekce -->
<section class="lectures-section">
    <div class="section-header">
        <h2 class="section-title">üéì P≈ôedn√°≈°ky</h2>
        <a href="/prednasky/" class="section-link">Zobrazit v≈°echny ‚Üí</a>
    </div>
    
    <div class="lectures-grid">
        {% assign lectures = site.posts | where: "categories", "videa" | limit: 3 %}
        {% for lecture in lectures %}
        <article class="lecture-card">
            <a href="{{ lecture.url | relative_url }}" class="lecture-link">
                <div class="lecture-thumbnail">
                    {% if lecture.youtube_id %}
                        <img src="https://img.youtube.com/vi/{{ lecture.youtube_id }}/maxresdefault.jpg" 
                             alt="{{ lecture.title }}"
                             onerror="this.src='https://img.youtube.com/vi/{{ lecture.youtube_id }}/hqdefault.jpg'">
                        <div class="lecture-play-overlay">
                            <svg class="play-icon" viewBox="0 0 68 48" version="1.1" style="width: 68px; height: 48px;">
                                <path class="play-icon-bg" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z" fill="#f00"></path>
                                <path d="M 45,24 27,14 27,34" fill="#fff"></path>
                            </svg>
                        </div>
                    {% elsif lecture.thumbnail %}
                        <img src="{{ lecture.thumbnail | relative_url }}" alt="{{ lecture.title }}">
                    {% else %}
                        <img src="https://picsum.photos/400/225?random={{ forloop.index }}50" alt="{{ lecture.title }}">
                    {% endif %}
                    <span class="lecture-duration">{% if lecture.duration %}{{ lecture.duration }}{% else %}15:00{% endif %}</span>
                </div>
                <div class="lecture-content">
                    <h3 class="lecture-title">{{ lecture.title | truncate: 60 }}</h3>
                    <p class="lecture-excerpt">{{ lecture.excerpt | strip_html | truncate: 100 }}</p>
                    <div class="lecture-meta">
                        <span class="lecture-author">{{ lecture.author | default: "Redakce" }}</span>
                        <span class="lecture-date">{{ lecture.date | date: "%d.%m.%Y" }}</span>
                    </div>
                    <div class="lecture-tags">
                        {% for tag in lecture.tags limit:3 %}
                            <span class="lecture-tag">#{{ tag }}</span>
                        {% endfor %}
                    </div>
                </div>
            </a>
        </article>
        {% endfor %}
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const videoPlayer = document.getElementById('sidebar-video');
    const videoTitle = document.getElementById('sidebar-video-title');
    const videoDescription = document.getElementById('sidebar-video-description');
    const playlist = document.getElementById('sidebar-playlist');
    const playlistToggle = document.getElementById('sidebar-playlist-toggle');
    const prevButton = document.getElementById('sidebar-prev-video');
    const nextButton = document.getElementById('sidebar-next-video');
    const fullscreenButton = document.getElementById('sidebar-fullscreen-btn');
    
    let currentVideoIndex = 0;
    const playlistItems = Array.from(document.querySelectorAll('.sidebar-playlist-item'));
    
    // Toggle playlist visibility
    playlistToggle.addEventListener('click', function() {
        playlist.style.display = playlist.style.display === 'none' ? 'block' : 'none';
    });
    
    // Play video from playlist
    playlistItems.forEach((item, index) => {
        item.addEventListener('click', function() {
            currentVideoIndex = index;
            loadVideo(index);
            playlist.style.display = 'none';
        });
    });
    
    // Previous video
    prevButton.addEventListener('click', function() {
        currentVideoIndex = currentVideoIndex > 0 ? currentVideoIndex - 1 : playlistItems.length - 1;
        loadVideo(currentVideoIndex);
    });
    
    // Next video
    nextButton.addEventListener('click', function() {
        currentVideoIndex = currentVideoIndex < playlistItems.length - 1 ? currentVideoIndex + 1 : 0;
        loadVideo(currentVideoIndex);
    });
    
    // Fullscreen toggle
    fullscreenButton.addEventListener('click', function() {
        if (videoPlayer.requestFullscreen) {
            videoPlayer.requestFullscreen();
        } else if (videoPlayer.webkitRequestFullscreen) {
            videoPlayer.webkitRequestFullscreen();
        } else if (videoPlayer.mozRequestFullScreen) {
            videoPlayer.mozRequestFullScreen();
        }
    });
    
    // Load video function
    function loadVideo(index) {
        const item = playlistItems[index];
        const videoSrc = item.dataset.videoSrc;
        const videoTitleText = item.dataset.videoTitle;
        const videoDescText = item.dataset.videoDescription;
        
        videoPlayer.src = videoSrc;
        videoTitle.textContent = videoTitleText;
        videoDescription.textContent = videoDescText;
        
        // Update active state in playlist
        playlistItems.forEach(item => item.classList.remove('active'));
        item.classList.add('active');
    }
    
    // Auto-play next video when current ends
    videoPlayer.addEventListener('ended', function() {
        nextButton.click();
    });
});
</script>